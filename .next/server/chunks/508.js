exports.id=508,exports.ids=[508],exports.modules={786:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},8667:(e,t,a)=>{Promise.resolve().then(a.bind(a,9395))},9395:(e,t,a)=>{"use strict";a.d(t,{ConditionalAuthProvider:()=>i});var r=a(326),s=a(5047),n=a(7048);function i({children:e}){let t=(0,s.usePathname)();return t?.startsWith("/kitchen/")?r.jsx(r.Fragment,{children:e}):r.jsx(n.H,{children:e})}},3107:(e,t,a)=>{"use strict";a.d(t,{Ho:()=>p,JF:()=>o,KZ:()=>I,LE:()=>i,Vu:()=>r,aE:()=>s,yv:()=>n});let r={id:1,name:"Cozy Corner Caf\xe9",ownerSuperAdminId:1,timezone:"Europe/Baku",currency:"AZN",settingsJson:JSON.stringify({theme:"warm",logoUrl:"https://images.unsplash.com/photo-1559305616-3f99cd43e353?w=200&h=200&fit=crop"})},s=[{id:1,restaurantId:1,name:"Downtown Branch",adminUserId:2},{id:2,restaurantId:1,name:"Mall Branch",adminUserId:3}],n=[{id:1,email:"superadmin@cozycorner.com",role:"ROLE_SUPERADMIN",restaurantId:1,branchId:null,fullName:"Ali Mammadov",firstName:"Ali",lastName:"Mammadov",phone:"+994501234567"},{id:2,email:"admin@downtown.cozycorner.com",role:"ROLE_ADMIN",restaurantId:1,branchId:1,fullName:"Leyla Huseynova",firstName:"Leyla",lastName:"Huseynova",phone:"+994502345678"},{id:3,email:"kitchen1@cozycorner.com",role:"ROLE_KITCHEN",restaurantId:1,branchId:1,fullName:"Rashad Aliyev",firstName:"Rashad",lastName:"Aliyev",phone:"+994503456789",salaryAmount:800,salaryPeriod:"MONTHLY"},{id:4,email:"waiter1@cozycorner.com",role:"ROLE_WAITER",restaurantId:1,branchId:1,fullName:"Aysel Hasanova",firstName:"Aysel",lastName:"Hasanova",phone:"+994504567890",salaryAmount:600,salaryPeriod:"MONTHLY"},{id:5,email:"waiter2@cozycorner.com",role:"ROLE_WAITER",restaurantId:1,branchId:1,fullName:"Farid Guliyev",firstName:"Farid",lastName:"Guliyev",phone:"+994505678901",salaryAmount:50,salaryPeriod:"DAILY"}],i=[{id:1,restaurantId:1,name:"French fries",description:"Creamy homemade hummus served with warm pita bread and olive oil drizzle",priceCents:890,category:"Appetizers",isAvailable:!0,image:"/imgs/fries.jpg"},{id:2,restaurantId:1,name:"Caesar Salad",description:"Crisp romaine lettuce, parmesan, croutons, and house-made Caesar dressing",priceCents:1100,category:"Appetizers",isAvailable:!0,image:"/imgs/salad.jpg"},{id:3,restaurantId:1,name:"Grilled Salmon(Sushi)",description:"Fresh Atlantic salmon with lemon butter sauce, served with seasonal vegetables",priceCents:2450,category:"Main Course",isAvailable:!0,image:"/imgs/sushi.jpg"},{id:4,restaurantId:1,name:"Vegetable Risotto",description:"Creamy arborio rice with seasonal vegetables and parmesan",priceCents:1450,category:"Main Course",isAvailable:!0,image:"/imgs/salad.jpg"},{id:5,restaurantId:1,name:"Chicken",description:"Herb-crusted lamb chops with rosemary jus and roasted potatoes",priceCents:3250,category:"Main Course",isAvailable:!1,image:"/imgs/chicken.jpg"},{id:6,restaurantId:1,name:"Classic Burger",description:"Angus beef patty with lettuce, tomato, cheese, and special sauce",priceCents:1450,category:"Burgers",isAvailable:!0,image:"/imgs/hamburger.jpg"},{id:7,restaurantId:1,name:"Coffee",description:"House-made fresh lemonade with mint",priceCents:400,category:"Drinks",isAvailable:!0,image:"/imgs/coffee.jpg"},{id:8,restaurantId:1,name:"Chocolate Lava Cake",description:"Warm chocolate cake with molten center, served with vanilla ice cream",priceCents:850,category:"Desserts",isAvailable:!0,image:"/imgs/cake.jpg"}],o=[{id:1,restaurantId:1,branchId:1,name:"Window Seat 1",tableNumber:1,seatCount:2,active:!0,qrCode:"QR-TABLE-001"},{id:2,restaurantId:1,branchId:1,name:"Window Seat 2",tableNumber:2,seatCount:2,active:!0,qrCode:"QR-TABLE-002"},{id:3,restaurantId:1,branchId:1,name:"Center Table",tableNumber:3,seatCount:4,active:!0,qrCode:"QR-TABLE-003"},{id:4,restaurantId:1,branchId:1,name:"Family Booth",tableNumber:4,seatCount:6,active:!0,qrCode:"QR-TABLE-004"},{id:5,restaurantId:1,branchId:1,name:"Terrace 1",tableNumber:5,seatCount:4,active:!0,qrCode:"QR-TABLE-005"},{id:6,restaurantId:1,branchId:1,name:"VIP Room",tableNumber:6,seatCount:8,active:!1,qrCode:"QR-TABLE-006"}],d=new Date,m=new Date(d.getTime()-6e5),l=new Date(d.getTime()-12e5),u=new Date(d.getTime()-18e5),c=new Date(d.getTime()-36e5),I=[{id:1,restaurantId:1,branchId:1,tableId:1,tableName:"Window Seat 1",guestSessionId:"session-001",status:"ORDERED",items:[{id:1,menuItemId:1,qty:1,priceCents:890,menuItemName:"Hummus with Pita"},{id:2,menuItemId:5,qty:1,priceCents:2450,menuItemName:"Grilled Salmon"},{id:3,menuItemId:13,qty:2,priceCents:550,menuItemName:"Cappuccino"}],totalCents:4440,createdAt:m.toISOString(),updatedAt:m.toISOString(),notes:"No onions please"},{id:2,restaurantId:1,branchId:1,tableId:3,tableName:"Center Table",guestSessionId:"session-002",status:"PREPARING",items:[{id:4,menuItemId:10,qty:2,priceCents:1450,menuItemName:"Classic Burger"},{id:5,menuItemId:12,qty:2,priceCents:450,menuItemName:"Fresh Orange Juice"}],totalCents:3800,createdAt:l.toISOString(),updatedAt:m.toISOString()},{id:3,restaurantId:1,branchId:1,tableId:4,tableName:"Family Booth",guestSessionId:"session-003",status:"PREPARED_WAITING",items:[{id:6,menuItemId:7,qty:3,priceCents:1650,menuItemName:"Chicken Alfredo Pasta"},{id:7,menuItemId:4,qty:2,priceCents:1100,menuItemName:"Caesar Salad"},{id:8,menuItemId:16,qty:2,priceCents:850,menuItemName:"Chocolate Lava Cake"},{id:9,menuItemId:15,qty:4,priceCents:400,menuItemName:"Lemonade"}],totalCents:9550,createdAt:u.toISOString(),updatedAt:m.toISOString()},{id:4,restaurantId:1,branchId:1,tableId:2,tableName:"Window Seat 2",guestSessionId:"session-004",status:"SERVED",items:[{id:10,menuItemId:6,qty:1,priceCents:2990,menuItemName:"Beef Steak"},{id:11,menuItemId:14,qty:1,priceCents:600,menuItemName:"Iced Latte"}],totalCents:3590,createdAt:c.toISOString(),updatedAt:u.toISOString(),notes:"Medium-rare steak"},{id:5,restaurantId:1,branchId:1,tableId:5,tableName:"Terrace 1",guestSessionId:"session-005",status:"COMPLETED",items:[{id:12,menuItemId:2,qty:1,priceCents:750,menuItemName:"Bruschetta"},{id:13,menuItemId:17,qty:2,priceCents:750,menuItemName:"Tiramisu"},{id:14,menuItemId:13,qty:2,priceCents:550,menuItemName:"Cappuccino"}],totalCents:3350,createdAt:c.toISOString(),updatedAt:u.toISOString()}],h=[];function p(e,t){let a={id:Date.now(),guestSessionId:`mock-session-${Date.now()}`,tableId:t,branchId:e,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+144e5).toISOString()};return h.push(a),a}},4820:(e,t,a)=>{"use strict";a.d(t,{CT:()=>r,eg:()=>n,NA:()=>s});let r="http://localhost:8080/api".replace(/\/+$/,"")||0,s=!0,n={ROLE_SUPERADMIN:"/superadmin/dashboard",ROLE_ADMIN:"/admin/dashboard",ROLE_WAITER:"/login",ROLE_KITCHEN:"/login"}},7048:(e,t,a)=>{"use strict";a.d(t,{E:()=>l,H:()=>m});var r=a(326),s=a(7577),n=a(5047),i=a(4820);let o=(0,s.createContext)(void 0),d=e=>i.eg[e]??"/admin/dashboard";function m({children:e}){let t=(0,n.useRouter)(),[a,i]=(0,s.useState)(null),[m,l]=(0,s.useState)(null),[u,c]=(0,s.useState)(!0),I=(0,s.useCallback)(e=>{if(!e||!e.user||!e.token||"ROLE_WAITER"===e.user.role){i(null),l(null);return}i({...e.user,permissions:Array.isArray(e.user.permissions)?e.user.permissions:[]}),l(e.token)},[]),h=(0,s.useCallback)(async()=>{try{c(!0);let e=await fetch("/api/auth/session",{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch session");let t=await e.json();I(t)}catch(e){console.error("[Auth] session error",e),i(null),l(null)}finally{c(!1)}},[I]),p=(0,s.useCallback)(async e=>{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(403===a.status){let e=await a.json();throw Error(e?.message??"Login restricted for this role")}if(!a.ok){let e=await a.json().catch(()=>void 0);throw Error(e?.message??"Login failed")}let r=await a.json();if(!r.user||!r.token)throw Error("Invalid login response");if("ROLE_WAITER"===r.user.role)throw Error("Login not permitted for this role.");return I(r),t.replace(d(r.user.role)),r.user},[I,t]),g=(0,s.useCallback)(async()=>{await fetch("/api/auth/logout",{method:"POST"}),i(null),l(null),t.replace("/login")},[t]),C=(0,s.useMemo)(()=>({user:a,token:m,loading:u,login:p,logout:g,refreshSession:h}),[a,m,u,p,g,h]);return r.jsx(o.Provider,{value:C,children:e})}let l=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useAuthContext must be used within AuthProvider");return e}},4773:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>o});var r=a(9510),s=a(5384),n=a.n(s);a(5023);let i=(0,a(8570).createProxy)(String.raw`C:\Users\ismayila\platefulmenufront\src\components\ConditionalAuthProvider.tsx#ConditionalAuthProvider`),o={title:"PlatefulMenu",description:"Role-based POS management for PlatefulMenu"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${n().className} bg-slate-50 text-slate-900`,children:r.jsx(i,{children:e})})})}},5023:()=>{}};