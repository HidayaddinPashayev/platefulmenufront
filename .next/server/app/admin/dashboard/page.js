(()=>{var e={};e.id=427,e.ids=[427],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},129:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(3624),t(9457),t(4773),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3624)),"C:\\Users\\ismayila\\platefulmenufront\\src\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\ismayila\\platefulmenufront\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4773)),"C:\\Users\\ismayila\\platefulmenufront\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\ismayila\\platefulmenufront\\src\\app\\admin\\dashboard\\page.tsx"],m="/admin/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1317:(e,s,t)=>{Promise.resolve().then(t.bind(t,5426))},2139:(e,s,t)=>{Promise.resolve().then(t.bind(t,5264))},5426:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(326),r=t(7577),l=t(4131),i=t(3916);t(926);let n={branch:null,staff:[],tables:[],menu:[],loading:!0,error:null};function d(){let{user:e}=(0,l.a)();(0,i.h)();let[s,t]=(0,r.useState)(n),d=(0,r.useMemo)(()=>({staffCount:s.staff.length,tableCount:s.tables.length,activeTables:s.tables.filter(e=>e.active).length,menuCount:s.menu.length}),[s.staff,s.tables,s.menu]);return e?.role!=="ROLE_ADMIN"?a.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-6 py-4 text-sm text-amber-900",children:"Access restricted to Admin role."}):e.branchId&&e.restaurantId?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"page-header",children:[a.jsx("h1",{className:"page-title",children:"Branch overview"}),a.jsx("p",{className:"page-subtitle",children:"Review key details for your assigned branch. All metrics are scoped to your branch only."})]}),s.error?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:s.error}):null,(0,a.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsx(c,{label:"Staff members",value:d.staffCount,loading:s.loading}),a.jsx(c,{label:"Tables",value:d.tableCount,loading:s.loading}),a.jsx(c,{label:"Active tables",value:d.activeTables,loading:s.loading}),a.jsx(c,{label:"Menu items",value:d.menuCount,loading:s.loading})]}),(0,a.jsxs)("section",{className:"card",children:[a.jsx("h2",{className:"section-title",children:"Branch details"}),s.loading?a.jsx("div",{className:"skeleton h-20 w-full"}):s.branch?(0,a.jsxs)("dl",{className:"mt-4 grid gap-4 text-sm text-warm-600 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-xs uppercase tracking-wide text-warm-400 font-bold",children:"Branch name"}),a.jsx("dd",{className:"mt-1 text-base text-warm-900 font-medium",children:s.branch.name})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-xs uppercase tracking-wide text-warm-400 font-bold",children:"Branch ID"}),a.jsx("dd",{className:"mt-1 text-base text-warm-900 font-medium",children:s.branch.id})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-xs uppercase tracking-wide text-warm-400 font-bold",children:"Restaurant ID"}),a.jsx("dd",{className:"mt-1 text-base text-warm-900 font-medium",children:s.branch.restaurantId})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-xs uppercase tracking-wide text-warm-400 font-bold",children:"Assigned admin ID"}),a.jsx("dd",{className:"mt-1 text-base text-warm-900 font-medium",children:s.branch.adminUserId??"You"})]})]}):a.jsx("p",{className:"mt-3 text-sm text-warm-500",children:"Branch data could not be loaded. Try refreshing the page."})]}),(0,a.jsxs)("section",{className:"grid gap-4 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"section-title",children:"Staff"}),s.loading?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"skeleton h-10 w-full"}),a.jsx("div",{className:"skeleton h-10 w-full"})]}):0===s.staff.length?a.jsx("div",{className:"empty-state py-6",children:a.jsx("p",{className:"empty-state-description",children:"No staff registered yet."})}):a.jsx("ul",{className:"mt-3 space-y-2 text-sm text-warm-600",children:s.staff.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between rounded-lg border border-warm-100 px-3 py-2 hover:bg-warm-50 transition-colors",children:[a.jsx("span",{className:"font-medium",children:e.email}),a.jsx("span",{className:"text-xs uppercase text-warm-400 font-bold bg-warm-100 px-2 py-1 rounded",children:e.role.replace("ROLE_","")})]},e.id))})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"section-title",children:"Tables"}),s.loading?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"skeleton h-10 w-full"}),a.jsx("div",{className:"skeleton h-10 w-full"})]}):0===s.tables.length?a.jsx("div",{className:"empty-state py-6",children:a.jsx("p",{className:"empty-state-description",children:"No tables registered. Create tables to start seating guests."})}):a.jsx("ul",{className:"mt-3 space-y-2 text-sm text-warm-600",children:s.tables.map(e=>a.jsx("li",{className:"flex items-center justify-between rounded-lg border border-warm-100 px-3 py-2 hover:bg-warm-50 transition-colors",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-warm-800",children:["Table ",e.tableNumber??e.id]}),(0,a.jsxs)("p",{className:"text-xs text-warm-500",children:["Seats ",e.seatCount??"N/A"," â€¢ ",a.jsx("span",{className:e.active?"text-green-600 font-medium":"text-warm-400",children:e.active?"Active":"Inactive"})]})]})},e.id))})]})]}),(0,a.jsxs)("section",{className:"card",children:[a.jsx("h2",{className:"section-title",children:"Menu preview"}),s.loading?(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsx("div",{className:"skeleton h-20 w-full"}),a.jsx("div",{className:"skeleton h-20 w-full"}),a.jsx("div",{className:"skeleton h-20 w-full"})]}):0===s.menu.length?a.jsx("div",{className:"empty-state py-6",children:a.jsx("p",{className:"empty-state-description",children:"No menu items available. Menu changes are managed by the SuperAdmin."})}):a.jsx("ul",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:s.menu.slice(0,6).map(e=>(0,a.jsxs)("li",{className:"rounded-xl border border-warm-100 px-4 py-3 hover:shadow-sm hover:border-warm-200 transition-all bg-warm-50/50",children:[a.jsx("p",{className:"text-sm font-semibold text-warm-800",children:e.name}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsxs)("p",{className:"text-primary-600 font-bold",children:["$",((e.priceCents??0)/100).toFixed(2)]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${e.isAvailable?"bg-green-100 text-green-700":"bg-warm-200 text-warm-600"}`,children:e.isAvailable?"Available":"Unavailable"})]})]},e.id))})]})]}):a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-6 py-4 text-sm text-red-700",children:"Your administrator profile is missing a branch assignment. Please contact your SuperAdmin."})}function c({label:e,value:s,loading:t}){return(0,a.jsxs)("div",{className:"card flex flex-col justify-between h-full",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-warm-400 font-bold",children:e}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-warm-900",children:t?a.jsx("span",{className:"skeleton h-8 w-16 inline-block"}):s})]})}},5264:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(326),r=t(7239);function l({children:e}){return a.jsx(r.I,{allowedRoles:["ROLE_ADMIN"],children:e})}},3624:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\ismayila\platefulmenufront\src\app\admin\dashboard\page.tsx#default`)},9457:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\ismayila\platefulmenufront\src\app\admin\layout.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,985,434,160,508,292],()=>t(129));module.exports=a})();