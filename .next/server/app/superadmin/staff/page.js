(()=>{var e={};e.id=424,e.ids=[424],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),s(536),s(3466),s(4773),s(5866);var a=s(3191),r=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["superadmin",{children:["staff",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,536)),"C:\\Users\\ismayila\\platefulmenufront\\src\\app\\superadmin\\staff\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3466)),"C:\\Users\\ismayila\\platefulmenufront\\src\\app\\superadmin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4773)),"C:\\Users\\ismayila\\platefulmenufront\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\ismayila\\platefulmenufront\\src\\app\\superadmin\\staff\\page.tsx"],c="/superadmin/staff/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/superadmin/staff/page",pathname:"/superadmin/staff",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7155:(e,t,s)=>{Promise.resolve().then(s.bind(s,2083))},5214:(e,t,s)=>{Promise.resolve().then(s.bind(s,6429))},2083:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(326),r=s(7239);function l({children:e}){return a.jsx(r.I,{allowedRoles:["ROLE_SUPERADMIN"],children:e})}},6429:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(326),r=s(7577),l=s(4131),n=s(3916),i=s(926),o=s(7409);let d={email:"",staffType:"Waiter",firstName:"",lastName:"",phoneNumber:"",salary:"",salaryCycle:"Monthly",branchId:""},u={staffType:"Waiter",firstName:"",lastName:"",phoneNumber:"",salary:"",salaryCycle:"Monthly",branchId:""},c=[{label:"Waiter",value:"Waiter"},{label:"Cleaner",value:"Cleaner"}],m=[{label:"Daily",value:"Daily"},{label:"Weekly",value:"Weekly"},{label:"Monthly",value:"Monthly"}],p=new Set(["ROLE_WAITER","ROLE_KITCHEN"]);function x(){let{user:e}=(0,l.a)(),t=(0,n.h)(),[s,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[N,g]=(0,r.useState)(d),[v,j]=(0,r.useState)(u),[w,C]=(0,r.useState)(null),[I,E]=(0,r.useState)(!1),[A,S]=(0,r.useState)(!1),[q,k]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[R,_]=(0,r.useState)([]),[U,F]=(0,r.useState)(!1),[M,T]=(0,r.useState)(null),[O,W]=(0,r.useState)([]),[D,$]=(0,r.useState)(!1),B=e?.restaurantId??null,H=(0,r.useMemo)(()=>{let e=new Map;return R.forEach(t=>{e.set(t.id,t.name)}),e},[R]),G=(e,t)=>{T({message:e,type:t}),setTimeout(()=>{T(null)},5e3)},z=()=>{g(d),k(null)},K=()=>{j(u),P(null),C(null)},Y=()=>{I||(x(!1),z())},Q=e=>{let t="",s="";if(e.firstName&&e.lastName)t=e.firstName,s=e.lastName;else if(e.fullName){let a=e.fullName.trim().split(/\s+/);t=a[0]||"",s=a.slice(1).join(" ")||""}let a="ROLE_WAITER"===e.role?"Waiter":"Cleaner",r=e.salaryPeriod?e.salaryPeriod.charAt(0)+e.salaryPeriod.slice(1).toLowerCase():"Monthly";j({staffType:a,firstName:t,lastName:s,phoneNumber:e.phoneNumber||e.phone||"",salary:null!=e.salaryAmount?String(e.salaryAmount):"",salaryCycle:r,branchId:e.branchId?String(e.branchId):""}),C(e.email),y(!0)},V=()=>{A||(y(!1),K())},X=async e=>{if(e.preventDefault(),k(null),!B){k("Restaurant ID is required.");return}let s=N.branchId?Number(N.branchId):null;if(!s||isNaN(s)||s<=0){k("Please select a valid branch.");return}E(!0);try{let e="Waiter"===N.staffType?"ROLE_WAITER":"ROLE_KITCHEN",a=N.salaryCycle.toUpperCase(),r=Number(parseFloat(N.salary).toFixed(2));if(isNaN(r)||r<=0)throw Error("Salary must be a positive number.");let l=N.email.trim().toLowerCase();if(!l)throw Error("Email is required.");let n=N.phoneNumber.trim();if(!n)throw Error("Phone number is required.");let d={email:l,role:e,firstName:N.firstName.trim(),lastName:N.lastName.trim(),phoneNumber:n,salaryAmount:r,salaryPeriod:a};console.log("[SuperadminStaff] Creating staff with payload:",{restaurantId:B,branchId:s,email:l,role:e,firstName:N.firstName.trim(),lastName:N.lastName.trim(),phoneNumber:n,salaryAmount:r,salaryPeriod:a}),await (0,i.jK)(t,B,s,d);try{let e=(await (0,o.UL)(t,B)).filter(e=>p.has(e.role));W(e)}catch(e){console.error("[SuperadminStaff] Failed to refresh staff list",e)}E(!1),x(!1),z(),G("Staff member created successfully!","success")}catch(t){console.error("[SuperadminStaff] create error",t);let e="Failed to create staff member.";t?.response?.data?.message?e=t.response.data.message:t?.response?.data?.error?e=t.response.data.error:t?.message&&(e=t.message),k(e),G(e,"error"),E(!1)}},Z=async e=>{if(e.preventDefault(),P(null),!w){P("No staff member selected for editing.");return}let s=v.branchId?Number(v.branchId):null;if(!s||isNaN(s)||s<=0){P("Please select a valid branch.");return}S(!0);try{let e="Waiter"===v.staffType?"ROLE_WAITER":"ROLE_KITCHEN",a=v.salaryCycle.toUpperCase(),r=Number(parseFloat(v.salary).toFixed(2));if(isNaN(r)||r<=0)throw Error("Salary must be a positive number.");let l=v.phoneNumber.trim();if(!l)throw Error("Phone number is required.");let n={role:e,firstName:v.firstName.trim(),lastName:v.lastName.trim(),phoneNumber:l,salaryAmount:r,salaryPeriod:a,branchId:s};await (0,i.Qf)(t,w,n);try{let e=(await (0,o.UL)(t,B)).filter(e=>p.has(e.role));W(e)}catch(e){console.error("[SuperadminStaff] Failed to refresh staff list",e)}S(!1),y(!1),K(),G("Staff member updated successfully!","success")}catch(t){console.error("[SuperadminStaff] update error",t);let e="Failed to update staff member.";t?.response?.data?.message?e=t.response.data.message:t?.response?.data?.error?e=t.response.data.error:t?.message&&(e=t.message),P(e),G(e,"error"),S(!1)}};return(0,a.jsxs)(a.Fragment,{children:[M&&a.jsx(h,{message:M.message,type:M.type}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Staff directory"}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"View-only listing of all staff members across your restaurant branches."})]}),a.jsx("button",{type:"button",onClick:()=>{z(),x(!0)},className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700",children:"Add staff"})]}),a.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:D?a.jsx("div",{className:"px-6 py-8 text-center text-sm text-slate-500",children:"Loading staff members..."}):0===O.length?a.jsx("div",{className:"px-6 py-8 text-center text-sm text-slate-500",children:'No staff members found. Click "Add staff" to add your first staff member.'}):(0,a.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50",children:(0,a.jsxs)("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[a.jsx("th",{className:"px-6 py-3",children:"EMAIL"}),a.jsx("th",{className:"px-6 py-3",children:"FIRST NAME"}),a.jsx("th",{className:"px-6 py-3",children:"LAST NAME"}),a.jsx("th",{className:"px-6 py-3",children:"ROLE"}),a.jsx("th",{className:"px-6 py-3",children:"BRANCH"}),a.jsx("th",{className:"px-6 py-3",children:"PHONE"}),a.jsx("th",{className:"px-6 py-3",children:"SALARY"}),a.jsx("th",{className:"px-6 py-3",children:"SALARY CYCLE"}),a.jsx("th",{className:"px-6 py-3",children:"ACTIONS"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 bg-white",children:O.map(e=>{let t=e.branchId?H.get(e.branchId):null,s=null,r=null;if(e.firstName&&e.lastName)s=e.firstName,r=e.lastName;else if(e.fullName){let t=e.fullName.trim().split(/\s+/);s=t[0]||null,r=t.slice(1).join(" ")||null}let l=e.phone||e.phoneNumber||null,n=null!=e.salaryAmount?Number(e.salaryAmount).toFixed(2):null,i=e.salaryPeriod||null;return(0,a.jsxs)("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-slate-900",children:e.email}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:s||"—"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:r||"—"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:e.role.replace("ROLE_","").toUpperCase()}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:t||"Unassigned"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:l||"—"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:n?`$${n}`:"—"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:i?i.charAt(0)+i.slice(1).toLowerCase():"—"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:a.jsx("button",{type:"button",onClick:()=>Q(e),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Edit"})})]},e.id)})})]})}),a.jsx(f,{title:"Add staff",open:s,onClose:Y,error:q,onSubmit:X,footer:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:Y,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",disabled:I,children:"Cancel"}),a.jsx("button",{type:"submit",form:"staff-form",disabled:I,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60",children:I?"Adding…":"Add staff"})]}),children:(0,a.jsxs)("form",{id:"staff-form",className:"space-y-4",onSubmit:X,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"email",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"email",type:"email",required:!0,value:N.email,onChange:e=>g(t=>({...t,email:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"staff@example.com",disabled:I})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"branch",children:["Branch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"branch",required:!0,value:N.branchId,onChange:e=>g(t=>({...t,branchId:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I||U,children:[a.jsx("option",{value:"",children:"Select a branch"}),R.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"staff-type",children:"Staff type"}),a.jsx("select",{id:"staff-type",required:!0,value:N.staffType,onChange:e=>g(t=>({...t,staffType:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I,children:c.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"first-name",children:"First name"}),a.jsx("input",{id:"first-name",type:"text",required:!0,value:N.firstName,onChange:e=>g(t=>({...t,firstName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name",disabled:I})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"last-name",children:"Last name"}),a.jsx("input",{id:"last-name",type:"text",required:!0,value:N.lastName,onChange:e=>g(t=>({...t,lastName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name",disabled:I})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"phone-number",children:"Phone number"}),a.jsx("input",{id:"phone-number",type:"tel",required:!0,value:N.phoneNumber,onChange:e=>g(t=>({...t,phoneNumber:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1234567890",disabled:I})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"salary",children:"Salary"}),a.jsx("input",{id:"salary",type:"number",required:!0,min:"0",step:"0.01",value:N.salary,onChange:e=>g(t=>({...t,salary:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:I})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"salary-cycle",children:"Salary cycle"}),a.jsx("select",{id:"salary-cycle",required:!0,value:N.salaryCycle,onChange:e=>g(t=>({...t,salaryCycle:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I,children:m.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]})}),a.jsx(f,{title:"Edit staff",open:b,onClose:V,error:L,onSubmit:Z,footer:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:V,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",disabled:A,children:"Cancel"}),a.jsx("button",{type:"submit",form:"edit-staff-form",disabled:A,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60",children:A?"Updating…":"Update staff"})]}),children:(0,a.jsxs)("form",{id:"edit-staff-form",className:"space-y-4",onSubmit:Z,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-branch",children:["Branch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"edit-branch",required:!0,value:v.branchId,onChange:e=>j(t=>({...t,branchId:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A||U,children:[a.jsx("option",{value:"",children:"Select a branch"}),R.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-staff-type",children:"Staff type"}),a.jsx("select",{id:"edit-staff-type",required:!0,value:v.staffType,onChange:e=>j(t=>({...t,staffType:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A,children:c.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-first-name",children:"First name"}),a.jsx("input",{id:"edit-first-name",type:"text",required:!0,value:v.firstName,onChange:e=>j(t=>({...t,firstName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name",disabled:A})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-last-name",children:"Last name"}),a.jsx("input",{id:"edit-last-name",type:"text",required:!0,value:v.lastName,onChange:e=>j(t=>({...t,lastName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name",disabled:A})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-phone-number",children:"Phone number"}),a.jsx("input",{id:"edit-phone-number",type:"tel",required:!0,value:v.phoneNumber,onChange:e=>j(t=>({...t,phoneNumber:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1234567890",disabled:A})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-salary",children:"Salary"}),a.jsx("input",{id:"edit-salary",type:"number",required:!0,min:"0",step:"0.01",value:v.salary,onChange:e=>j(t=>({...t,salary:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:A})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-salary-cycle",children:"Salary cycle"}),a.jsx("select",{id:"edit-salary-cycle",required:!0,value:v.salaryCycle,onChange:e=>j(t=>({...t,salaryCycle:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A,children:m.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]})})]})]})}function f({title:e,open:t,onClose:s,children:r,error:l,footer:n,onSubmit:i}){return t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4 py-4",children:(0,a.jsxs)("div",{className:"relative flex flex-col w-full max-w-lg max-h-[90vh] rounded-2xl bg-white shadow-2xl overflow-hidden",children:[l&&a.jsx("div",{className:"absolute top-0 left-0 right-0 z-[9999] rounded-t-2xl bg-red-50 border-b border-red-200 px-6 py-3 text-sm text-red-700",children:l}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4 p-6 pb-4 flex-shrink-0",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:e}),(0,a.jsxs)("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:[a.jsx("span",{className:"sr-only",children:"Close"}),"\xd7"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6",style:{maxHeight:"70vh"},children:r}),n&&a.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-slate-200",children:n})]})}):null}function h({message:e,type:t}){return a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:`pointer-events-auto rounded-lg px-6 py-4 shadow-2xl transition-all duration-300 ${"success"===t?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:"text-sm font-medium",children:e})})})})}},7409:(e,t,s)=>{"use strict";s.d(t,{$6:()=>d,NA:()=>o,Qj:()=>n,RZ:()=>m,UL:()=>x,aq:()=>c,jP:()=>p,o_:()=>i,uV:()=>u});var a=s(4820),r=s(3107);let l=e=>encodeURIComponent(e.toLowerCase()),n=async(e,t,s)=>{if(a.NA){console.log("[Mock] createBranch");let e={id:Date.now(),restaurantId:t,name:s.name,adminUserId:s.adminUserId??null};return r.aE.push(e),e}let l={name:s.name,restaurantId:t};void 0!==s.adminUserId&&null!==s.adminUserId&&(l.adminUserId=s.adminUserId);let{data:n}=await e.post(`/restaurants/${t}/branches`,l);return n},i=async(e,t,s)=>{if(a.NA){console.log("[Mock] updateBranch");let e=r.aE.find(e=>e.id===t);if(e)return s.name&&(e.name=s.name),void 0!==s.adminUserId&&(e.adminUserId=s.adminUserId),e;throw Error("Branch not found")}let{data:l}=await e.put(`/branches/${t}`,s);return l},o=async(e,t)=>{if(a.NA){console.log("[Mock] deleteBranch");let e=r.aE.findIndex(e=>e.id===t);-1!==e&&r.aE.splice(e,1);return}await e.delete(`/branches/${t}`)},d=async(e,t,s)=>{if(a.NA){console.log("[Mock] assignAdminToBranch");let e=r.aE.find(e=>e.id===t);e&&(e.adminUserId=s);return}await e.post(`/branches/${t}/assign-admin`,{adminUserId:s})},u=async(e,t,s)=>{if(a.NA){console.log("[Mock] createAdmin");let e={id:Date.now(),email:s.email.toLowerCase(),role:"ROLE_ADMIN",restaurantId:t,branchId:s.branchId??null,fullName:"New Admin"};return r.yv.push(e),e}let{data:l}=await e.post("/superadmin/users",{email:s.email.toLowerCase(),password:s.password,role:"BRANCH_MANAGER",restaurantId:t,...void 0!==s.branchId&&null!==s.branchId?{branchId:s.branchId}:{}});return l},c=async(e,t,s)=>{if(a.NA){console.log("[Mock] updateAdmin");let e=r.yv.find(e=>e.email.toLowerCase()===t.toLowerCase());if(e)return void 0!==s.branchId&&(e.branchId=s.branchId),e;throw Error("Admin not found")}let{data:n}=await e.patch(`/users/${l(t)}`,{...s.password?{password:s.password}:{},...void 0!==s.branchId?{branchId:s.branchId}:{}});return n},m=async(e,t,s)=>{if(a.NA){console.log("[Mock] resetAdminPassword");let e=r.yv.find(e=>e.id===t);return{status:"success",message:"Password reset successfully (mock)",newPassword:s,adminEmail:e?.email??"admin@mock.com",adminUserId:t}}let{data:l}=await e.post(`/superadmin/admins/${t}/reset-password`,{newPassword:s});return l},p=async(e,t)=>{if(a.NA){console.log("[Mock] deleteAdmin");let e=r.yv.findIndex(e=>e.email.toLowerCase()===t.toLowerCase());-1!==e&&r.yv.splice(e,1);return}await e.delete(`/users/${l(t)}`)},x=async(e,t)=>{if(a.NA)return console.log("[Mock] listRestaurantStaff"),r.yv.filter(e=>e.restaurantId===t&&"ROLE_ADMIN"!==e.role&&"ROLE_SUPERADMIN"!==e.role);let{data:s}=await e.get("/users",{params:{restaurantId:t}});return(s??[]).filter(e=>"ROLE_ADMIN"!==e.role)}},3466:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\ismayila\platefulmenufront\src\app\superadmin\layout.tsx#default`)},536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\ismayila\platefulmenufront\src\app\superadmin\staff\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,985,434,160,508,292],()=>s(3762));module.exports=a})();