(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{3149:function(e,t,l){Promise.resolve().then(l.bind(l,7352))},7352:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return f}});var a=l(7437),s=l(2265),r=l(8734),n=l(2285),o=l(6997);let i={email:"",staffType:"Waiter",firstName:"",lastName:"",phoneNumber:"",salary:"",salaryCycle:"Monthly"},d={staffType:"Waiter",firstName:"",lastName:"",phoneNumber:"",salary:"",salaryCycle:"Monthly"},u=[{label:"Waiter",value:"Waiter"},{label:"Cleaner",value:"Cleaner"}],c=[{label:"Daily",value:"Daily"},{label:"Weekly",value:"Weekly"},{label:"Monthly",value:"Monthly"}],m=new Set(["ROLE_WAITER","ROLE_KITCHEN"]);function f(){var e,t;let{user:l}=(0,r.a)(),f=(0,n.h)(),[h,p]=(0,s.useState)(!1),[N,y]=(0,s.useState)(!1),[v,g]=(0,s.useState)(i),[j,w]=(0,s.useState)(d),[C,A]=(0,s.useState)(null),[E,S]=(0,s.useState)(!1),[I,k]=(0,s.useState)(!1),[F,L]=(0,s.useState)(null),[T,P]=(0,s.useState)(null),[R,M]=(0,s.useState)(null),[q,_]=(0,s.useState)(!1),[W,O]=(0,s.useState)(null),[D,H]=(0,s.useState)([]),[K,U]=(0,s.useState)(!1),J=null!==(e=null==l?void 0:l.restaurantId)&&void 0!==e?e:null,Q=null!==(t=null==l?void 0:l.branchId)&&void 0!==t?t:null,Z=(e,t)=>{O({message:e,type:t}),setTimeout(()=>{O(null)},5e3)};(0,s.useEffect)(()=>{Q&&(_(!0),(0,o.aM)(f,Q).then(e=>{M(e)}).catch(e=>{console.error("[AdminStaff] Failed to load branch",e)}).finally(()=>{_(!1)}))},[f,Q]),(0,s.useEffect)(()=>{Q&&(async()=>{U(!0);try{let e=(await (0,o.Z6)(f,Q)).filter(e=>m.has(e.role));H(e)}catch(e){console.error("[AdminStaff] Failed to load staff",e)}finally{U(!1)}})()},[f,Q]);let z=()=>{g(i),L(null)},B=()=>{w(d),P(null),A(null)},Y=()=>{E||(p(!1),z())},X=e=>{let t="",l="";if(e.firstName&&e.lastName)t=e.firstName,l=e.lastName;else if(e.fullName){let a=e.fullName.trim().split(/\s+/);t=a[0]||"",l=a.slice(1).join(" ")||""}let a="ROLE_WAITER"===e.role?"Waiter":"Cleaner",s=e.salaryPeriod?e.salaryPeriod.charAt(0)+e.salaryPeriod.slice(1).toLowerCase():"Monthly";w({staffType:a,firstName:t,lastName:l,phoneNumber:e.phoneNumber||e.phone||"",salary:null!=e.salaryAmount?String(e.salaryAmount):"",salaryCycle:s}),A(e.email),y(!0)},$=()=>{I||(y(!1),B())},G=async e=>{if(e.preventDefault(),L(null),!J||!Q){L("Restaurant ID and Branch ID are required.");return}S(!0);try{let e="Waiter"===v.staffType?"ROLE_WAITER":"ROLE_KITCHEN",t=v.salaryCycle.toUpperCase(),l=Number(parseFloat(v.salary).toFixed(2));if(isNaN(l)||l<=0)throw Error("Salary must be a positive number.");let a=v.email.trim().toLowerCase();if(!a)throw Error("Email is required.");let s=v.phoneNumber.trim();if(!s)throw Error("Phone number is required.");let r={email:a,role:e,firstName:v.firstName.trim(),lastName:v.lastName.trim(),phoneNumber:s,salaryAmount:l,salaryPeriod:t};await (0,o.jK)(f,J,Q,r);try{let e=(await (0,o.Z6)(f,Q)).filter(e=>m.has(e.role));H(e)}catch(e){console.error("[AdminStaff] Failed to refresh staff list",e)}S(!1),p(!1),z(),Z("Staff member created successfully!","success")}catch(r){var t,l,a,s;console.error("[AdminStaff] create error",r);let e="Failed to create staff member.";(null==r?void 0:null===(l=r.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)?e=r.response.data.message:(null==r?void 0:null===(s=r.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)?e=r.response.data.error:(null==r?void 0:r.message)&&(e=r.message),L(e),Z(e,"error"),S(!1)}},V=async e=>{if(e.preventDefault(),P(null),!C){P("No staff member selected for editing.");return}k(!0);try{let e="Waiter"===j.staffType?"ROLE_WAITER":"ROLE_KITCHEN",t=j.salaryCycle.toUpperCase(),l=Number(parseFloat(j.salary).toFixed(2));if(isNaN(l)||l<=0)throw Error("Salary must be a positive number.");let a=j.phoneNumber.trim();if(!a)throw Error("Phone number is required.");let s={role:e,firstName:j.firstName.trim(),lastName:j.lastName.trim(),phoneNumber:a,salaryAmount:l,salaryPeriod:t};await (0,o.Qf)(f,C,s);try{let e=(await (0,o.Z6)(f,Q)).filter(e=>m.has(e.role));H(e)}catch(e){console.error("[AdminStaff] Failed to refresh staff list",e)}k(!1),y(!1),B(),Z("Staff member updated successfully!","success")}catch(r){var t,l,a,s;console.error("[AdminStaff] update error",r);let e="Failed to update staff member.";(null==r?void 0:null===(l=r.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)?e=r.response.data.message:(null==r?void 0:null===(s=r.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)?e=r.response.data.error:(null==r?void 0:r.message)&&(e=r.message),P(e),Z(e,"error"),k(!1)}};return(0,a.jsxs)(a.Fragment,{children:[W&&(0,a.jsx)(x,{message:W.message,type:W.type}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Staff directory"}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-slate-500",children:["Manage staff members for ",R?R.name:"your branch","."]})]}),(0,a.jsx)("button",{type:"button",onClick:()=>{z(),p(!0)},className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700",children:"Add staff"})]}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-slate-200 bg-white shadow-sm",children:K?(0,a.jsx)("div",{className:"px-6 py-8 text-center text-sm text-slate-500",children:"Loading staff members..."}):0===D.length?(0,a.jsx)("div",{className:"px-6 py-8 text-center text-sm text-slate-500",children:'No staff members found. Click "Add staff" to add your first staff member.'}):(0,a.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[(0,a.jsx)("thead",{className:"bg-slate-50",children:(0,a.jsxs)("tr",{className:"text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:[(0,a.jsx)("th",{className:"px-6 py-3",children:"EMAIL"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"FIRST NAME"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"LAST NAME"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"ROLE"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"PHONE"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"SALARY"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"SALARY CYCLE"}),(0,a.jsx)("th",{className:"px-6 py-3",children:"ACTIONS"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-200 bg-white",children:D.map(e=>{let t=null,l=null;if(e.firstName&&e.lastName)t=e.firstName,l=e.lastName;else if(e.fullName){let a=e.fullName.trim().split(/\s+/);t=a[0]||null,l=a.slice(1).join(" ")||null}let s=e.phone||e.phoneNumber||null,r=null!=e.salaryAmount?Number(e.salaryAmount).toFixed(2):null,n=e.salaryPeriod||null;return(0,a.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-slate-900",children:e.email}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:t||"—"}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:l||"—"}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:e.role.replace("ROLE_","").toUpperCase()}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:s||"—"}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:r?"$".concat(r):"—"}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:n?n.charAt(0)+n.slice(1).toLowerCase():"—"}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-700",children:(0,a.jsx)("button",{type:"button",onClick:()=>X(e),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Edit"})})]},e.id)})})]})}),(0,a.jsx)(b,{title:"Add staff",open:h,onClose:Y,error:F,onSubmit:G,footer:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:Y,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",disabled:E,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",form:"staff-form",disabled:E,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60",children:E?"Adding…":"Add staff"})]}),children:(0,a.jsxs)("form",{id:"staff-form",className:"space-y-4",onSubmit:G,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"email",children:["Email ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"email",type:"email",required:!0,value:v.email,onChange:e=>g(t=>({...t,email:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"staff@example.com",disabled:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"staff-type",children:"Staff type"}),(0,a.jsx)("select",{id:"staff-type",required:!0,value:v.staffType,onChange:e=>g(t=>({...t,staffType:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E,children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"first-name",children:"First name"}),(0,a.jsx)("input",{id:"first-name",type:"text",required:!0,value:v.firstName,onChange:e=>g(t=>({...t,firstName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name",disabled:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"last-name",children:"Last name"}),(0,a.jsx)("input",{id:"last-name",type:"text",required:!0,value:v.lastName,onChange:e=>g(t=>({...t,lastName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name",disabled:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"phone-number",children:"Phone number"}),(0,a.jsx)("input",{id:"phone-number",type:"tel",required:!0,value:v.phoneNumber,onChange:e=>g(t=>({...t,phoneNumber:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1234567890",disabled:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"salary",children:"Salary"}),(0,a.jsx)("input",{id:"salary",type:"number",required:!0,min:"0",step:"0.01",value:v.salary,onChange:e=>g(t=>({...t,salary:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:E})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"salary-cycle",children:"Salary cycle"}),(0,a.jsx)("select",{id:"salary-cycle",required:!0,value:v.salaryCycle,onChange:e=>g(t=>({...t,salaryCycle:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E,children:c.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})}),(0,a.jsx)(b,{title:"Edit staff",open:N,onClose:$,error:T,onSubmit:V,footer:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:$,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",disabled:I,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",form:"edit-staff-form",disabled:I,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60",children:I?"Updating…":"Update staff"})]}),children:(0,a.jsxs)("form",{id:"edit-staff-form",className:"space-y-4",onSubmit:V,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-staff-type",children:"Staff type"}),(0,a.jsx)("select",{id:"edit-staff-type",required:!0,value:j.staffType,onChange:e=>w(t=>({...t,staffType:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I,children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-first-name",children:"First name"}),(0,a.jsx)("input",{id:"edit-first-name",type:"text",required:!0,value:j.firstName,onChange:e=>w(t=>({...t,firstName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter first name",disabled:I})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-last-name",children:"Last name"}),(0,a.jsx)("input",{id:"edit-last-name",type:"text",required:!0,value:j.lastName,onChange:e=>w(t=>({...t,lastName:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter last name",disabled:I})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-phone-number",children:"Phone number"}),(0,a.jsx)("input",{id:"edit-phone-number",type:"tel",required:!0,value:j.phoneNumber,onChange:e=>w(t=>({...t,phoneNumber:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1234567890",disabled:I})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-salary",children:"Salary"}),(0,a.jsx)("input",{id:"edit-salary",type:"number",required:!0,min:"0",step:"0.01",value:j.salary,onChange:e=>w(t=>({...t,salary:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",disabled:I})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-slate-600",htmlFor:"edit-salary-cycle",children:"Salary cycle"}),(0,a.jsx)("select",{id:"edit-salary-cycle",required:!0,value:j.salaryCycle,onChange:e=>w(t=>({...t,salaryCycle:e.target.value})),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:I,children:c.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})})]})]})}function b(e){let{title:t,open:l,onClose:s,children:r,error:n,footer:o,onSubmit:i}=e;return l?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 px-4 py-4",children:(0,a.jsxs)("div",{className:"relative flex flex-col w-full max-w-lg max-h-[90vh] rounded-2xl bg-white shadow-2xl overflow-hidden",children:[n&&(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 z-[9999] rounded-t-2xl bg-red-50 border-b border-red-200 px-6 py-3 text-sm text-red-700",children:n}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4 p-6 pb-4 flex-shrink-0",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:t}),(0,a.jsxs)("button",{type:"button",onClick:s,className:"rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700",children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),"\xd7"]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-6",style:{maxHeight:"70vh"},children:r}),o&&(0,a.jsx)("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-slate-200",children:o})]})}):null}function x(e){let{message:t,type:l}=e;return(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:(0,a.jsx)("div",{className:"pointer-events-auto rounded-lg px-6 py-4 shadow-2xl transition-all duration-300 ".concat("success"===l?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:t})})})})}},6997:function(e,t,l){"use strict";l.d(t,{Qf:function(){return d},T0:function(){return m},WQ:function(){return f},W_:function(){return c},Xn:function(){return u},Z6:function(){return o},aM:function(){return n},jK:function(){return i},l_:function(){return b}});var a=l(533),s=l(2911);let r=new Set(["ROLE_WAITER","ROLE_KITCHEN"]),n=async(e,t)=>{if(a.NA){console.log("[Mock] getBranch");let e=s.aE.find(e=>e.id===t);if(e)return e;throw Error("Branch not found")}let{data:l}=await e.get("/branches/".concat(t));return l},o=async(e,t)=>{if(a.NA)return console.log("[Mock] listStaff"),s.yv.filter(e=>e.branchId===t&&r.has(e.role));let{data:l}=await e.get("/users",{params:{branchId:t}});return(null!=l?l:[]).filter(e=>r.has(e.role))},i=async(e,t,l,r)=>{var n,o,i,d;if(a.NA){console.log("[Mock] createStaff");let e={id:Date.now(),email:r.email.toLowerCase(),role:r.role,restaurantId:t,branchId:l,fullName:"".concat(r.firstName||""," ").concat(r.lastName||"").trim()||"New Staff",firstName:r.firstName,lastName:r.lastName,phoneNumber:r.phoneNumber,salaryAmount:r.salaryAmount,salaryPeriod:r.salaryPeriod};return s.yv.push(e),e}let u={email:r.email.toLowerCase(),role:r.role,restaurantId:t,branchId:l};if(r.password&&(u.password=r.password),(null===(n=r.firstName)||void 0===n?void 0:n.trim())||(null===(o=r.lastName)||void 0===o?void 0:o.trim())){let e=(null===(i=r.firstName)||void 0===i?void 0:i.trim())||"",t=(null===(d=r.lastName)||void 0===d?void 0:d.trim())||"";u.fullName="".concat(e," ").concat(t).trim()}void 0!==r.phoneNumber&&null!==r.phoneNumber&&(u.phoneNumber=r.phoneNumber),void 0!==r.salaryAmount&&null!==r.salaryAmount&&(u.salaryAmount=Number(r.salaryAmount)),void 0!==r.salaryPeriod&&null!==r.salaryPeriod&&(u.salaryPeriod=r.salaryPeriod);let{data:c}=await e.post("/users",u);return c},d=async(e,t,l)=>{if(a.NA){console.log("[Mock] updateStaff");let e=s.yv.find(e=>e.email.toLowerCase()===t.toLowerCase());if(e)return l.role&&(e.role=l.role),l.firstName&&(e.firstName=l.firstName),l.lastName&&(e.lastName=l.lastName),(l.firstName||l.lastName)&&(e.fullName="".concat(l.firstName||e.firstName||""," ").concat(l.lastName||e.lastName||"").trim()),void 0!==l.phoneNumber&&(e.phoneNumber=l.phoneNumber),void 0!==l.salaryAmount&&(e.salaryAmount=l.salaryAmount),void 0!==l.salaryPeriod&&(e.salaryPeriod=l.salaryPeriod),void 0!==l.branchId&&(e.branchId=l.branchId),e;throw Error("Staff not found")}let r={};if(l.role&&(r.role=l.role),l.password&&(r.password=l.password),void 0!==l.firstName||void 0!==l.lastName){var n,o;let e=(null===(n=l.firstName)||void 0===n?void 0:n.trim())||"",t=(null===(o=l.lastName)||void 0===o?void 0:o.trim())||"";e&&(r.firstName=e),t&&(r.lastName=t),(e||t)&&(r.fullName="".concat(e," ").concat(t).trim())}void 0!==l.phoneNumber&&null!==l.phoneNumber&&(r.phoneNumber=l.phoneNumber),void 0!==l.salaryAmount&&null!==l.salaryAmount&&(r.salaryAmount=Number(l.salaryAmount)),void 0!==l.salaryPeriod&&null!==l.salaryPeriod&&(r.salaryPeriod=l.salaryPeriod),void 0!==l.branchId&&null!==l.branchId&&(r.branchId=l.branchId);let{data:i}=await e.patch("/users/".concat(encodeURIComponent(t.toLowerCase())),r);return i},u=async(e,t,l)=>{if(a.NA)return console.log("[Mock] listTables"),s.JF.filter(e=>e.branchId===l);let{data:r}=await e.get("/tables",{params:{restId:t}});return(null!=r?r:[]).filter(e=>e.branchId===l)},c=async(e,t,l,r)=>{var n,o,i,d,u,c;if(a.NA){console.log("[Mock] createTable");let e={id:Date.now(),restaurantId:t,branchId:l,name:null!==(n=r.name)&&void 0!==n?n:"New Table",tableNumber:null!==(o=r.tableNumber)&&void 0!==o?o:null,seatCount:null!==(i=r.seatCount)&&void 0!==i?i:null,active:!0,qrCode:"QR-".concat(Date.now())};return s.JF.push(e),e}let{data:m}=await e.post("/tables",{restaurantId:t,branchId:l,name:null!==(d=r.name)&&void 0!==d?d:"",tableNumber:null!==(u=r.tableNumber)&&void 0!==u?u:null,seatCount:null!==(c=r.seatCount)&&void 0!==c?c:null});return m},m=async(e,t,l)=>{var r,n,o,i;if(a.NA){console.log("[Mock] updateTable");let e=s.JF.find(e=>e.id===t);if(e)return void 0!==l.name&&(e.name=null!==(r=l.name)&&void 0!==r?r:""),void 0!==l.tableNumber&&(e.tableNumber=l.tableNumber),void 0!==l.seatCount&&(e.seatCount=l.seatCount),e;throw Error("Table not found")}let d={name:null!==(n=l.name)&&void 0!==n?n:"",tableNumber:null!==(o=l.tableNumber)&&void 0!==o?o:null,seatCount:null!==(i=l.seatCount)&&void 0!==i?i:null};void 0!==l.restaurantId&&(d.restaurantId=l.restaurantId),void 0!==l.branchId&&(d.branchId=l.branchId);let{data:u}=await e.put("/tables/".concat(t),d);return u},f=async(e,t)=>{if(a.NA){console.log("[Mock] deleteTable");let e=s.JF.findIndex(e=>e.id===t);-1!==e&&s.JF.splice(e,1);return}await e.delete("/tables/".concat(t))},b=async(e,t)=>{if(a.NA)return console.log("[Mock] listMenuItems"),s.LE.filter(e=>e.restaurantId===t);let{data:l}=await e.get("/menu/admin/all",{params:{restId:t}});return null!=l?l:[]}}},function(e){e.O(0,[301,842,971,117,744],function(){return e(e.s=3149)}),_N_E=e.O()}]);